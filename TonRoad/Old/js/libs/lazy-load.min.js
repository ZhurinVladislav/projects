const lazyLoad = () => {
  const bgImages = document.querySelectorAll('[data-image]');
  const lazyImages = document.querySelectorAll('img[data-src]');
  const lazyElements = document.querySelectorAll('img, iframe');

  bgImages.forEach(el => {
    el.style.backgroundImage = `url(${el.dataset.image})`;
    el.removeAttribute('data-image');
  });

  lazyImages.forEach(el => {
    el.src = el.dataset.src;
    el.removeAttribute('data-src');
  });

  lazyElements.forEach(el => {
    el.setAttribute('loading', 'lazy');
  });
};

window.addEventListener('load', lazyLoad);
