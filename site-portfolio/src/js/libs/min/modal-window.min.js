document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".js-open-modal"),o=document.querySelectorAll(".js-close-modal"),s=document.getElementById("form-success"),t=document.querySelector("html"),l,c;function n(){a("close"),s.classList.add("open"),t.classList.add("mod-open"),c=document.querySelector(".form-success .modal-box"),a()}function a(e=null){let s=document.querySelectorAll(".modal");if(null!==e){s.forEach(e=>{e.classList.remove("open"),t.classList.remove("mod-open")});return}o.forEach(e=>{e.addEventListener("click",()=>{s.forEach(e=>{e.classList.remove("open"),t.classList.remove("mod-open")})})}),window.addEventListener("keydown",e=>{"Escape"===e.key&&s.forEach(e=>{e.classList.remove("open"),t.classList.remove("mod-open")})}),c.addEventListener("click",e=>{e._isClickWithInModal=!0}),s.forEach(e=>{e.addEventListener("click",e=>{e._isClickWithInModal||(e.currentTarget.classList.remove("open"),t.classList.remove("mod-open"))})})}e.forEach(e=>{e.addEventListener("click",()=>{l=e.getAttribute("data-open"),document.getElementById(l).classList.add("open"),t.classList.add("mod-open"),c=document.querySelector(`.${l} .modal-box`),a()})}),$(document).on("af_complete",function(e,o){o.success&&n()})});